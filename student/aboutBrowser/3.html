<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>浏览器缓存 | cc的学习笔记</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="我的博客">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="preload" href="/assets/css/0.styles.7660c40c.css" as="style"><link rel="preload" href="/assets/js/app.78926a52.js" as="script"><link rel="preload" href="/assets/js/2.987596e6.js" as="script"><link rel="preload" href="/assets/js/5.e53f933c.js" as="script"><link rel="prefetch" href="/assets/js/10.93732376.js"><link rel="prefetch" href="/assets/js/11.9dda8103.js"><link rel="prefetch" href="/assets/js/12.715a178e.js"><link rel="prefetch" href="/assets/js/13.ae5c9d02.js"><link rel="prefetch" href="/assets/js/14.a64c1534.js"><link rel="prefetch" href="/assets/js/15.7d7afdea.js"><link rel="prefetch" href="/assets/js/16.8e8ccac6.js"><link rel="prefetch" href="/assets/js/17.2fd0204a.js"><link rel="prefetch" href="/assets/js/18.c6193b71.js"><link rel="prefetch" href="/assets/js/19.a7216d19.js"><link rel="prefetch" href="/assets/js/20.ca1da338.js"><link rel="prefetch" href="/assets/js/21.2df04e42.js"><link rel="prefetch" href="/assets/js/22.b1f235a8.js"><link rel="prefetch" href="/assets/js/23.24c49380.js"><link rel="prefetch" href="/assets/js/24.dce076b3.js"><link rel="prefetch" href="/assets/js/25.3731b5eb.js"><link rel="prefetch" href="/assets/js/26.d7948f7a.js"><link rel="prefetch" href="/assets/js/3.d54a8c74.js"><link rel="prefetch" href="/assets/js/4.b598ecf1.js"><link rel="prefetch" href="/assets/js/6.e40c69e2.js"><link rel="prefetch" href="/assets/js/7.677cbe3a.js"><link rel="prefetch" href="/assets/js/8.bcc3c143.js"><link rel="prefetch" href="/assets/js/9.ab9ae2af.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7660c40c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">cc的学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/student/" class="nav-link router-link-active">
  笔记
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/student/" class="nav-link router-link-active">
  笔记
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/student/jsProgress/1.html" class="sidebar-link">执行上下文相关</a></li><li><a href="/student/jsProgress/2.html" class="sidebar-link">异步编程</a></li><li><a href="/student/jsProgress/3.html" class="sidebar-link">原型与原型链</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js性能与规范</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/student/jsPref/1.html" class="sidebar-link">/student/jsPref/1.html</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>浏览器相关知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/student/aboutBrowser/1.html" class="sidebar-link">从输入url到页面加载完成究竟发生了什么？</a></li><li><a href="/student/aboutBrowser/2.html" class="sidebar-link">同源策略和跨域</a></li><li><a href="/student/aboutBrowser/3.html" class="active sidebar-link">浏览器缓存</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/student/aboutBrowser/3.html#强缓存" class="sidebar-link">强缓存</a></li><li class="sidebar-sub-header"><a href="/student/aboutBrowser/3.html#协商缓存" class="sidebar-link">协商缓存</a></li></ul></li><li><a href="/student/aboutBrowser/4.html" class="sidebar-link">http请求协议相关</a></li><li><a href="/student/aboutBrowser/5.html" class="sidebar-link">浏览器渲染原理</a></li><li><a href="/student/aboutBrowser/sumUp.html" class="sidebar-link">页面性能优化相关</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/student/webpack/base.html" class="sidebar-link">webpack基本概念</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="浏览器缓存"><a href="#浏览器缓存" class="header-anchor">#</a> 浏览器缓存</h1> <p>资源文件（比如图片）在本地存有副本，浏览器下次请求的时候，可能直接从本地磁盘里读取，而不会重新请求图片的url。浏览器缓存的作用就是减少请求，提升用户体验，</p> <p>主要有以下几种方式：</p> <ul><li><p>强缓存</p></li> <li><p>协商缓存</p></li></ul> <h2 id="强缓存"><a href="#强缓存" class="header-anchor">#</a> 强缓存</h2> <p>不用请求服务器，直接使用本地的缓存</p> <p>实现方式是利用 http 响应头中的Expires或Cache-Control。</p> <p>浏览器第一次请求一个资源时，服务器会在返回该资源的同时，将上面这两个属性放在response header中，比如这样</p> <p><img src="data:image/jpeg;base64,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" alt=""></p> <p>注：Cache-Control的优先级会比Expires高，可以启用一个也可以同时启用。</p> <p><strong>Expires</strong>：服务器返回的绝对时间</p> <p>相对较老的强缓存管理,浏览器在再次请求这个资源时，会先从缓存中寻找，找到这个资源后，拿出它的Expires跟当前的请求时间比较，如果请求时间在Expires的时间之前，就能命中缓存，否则就不行。</p> <p>如果缓存没有命中，浏览器直接从服务器请求资源时，Expires Header在重新请求的时候会被更新。</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>缺点：
由于Expires是服务器返回的一个绝对时间，存在的问题是：服务器的事件和客户端的事件可能不一致。在服务器时间与客户端时间相差较大时，缓存管理容易出现问题，比如随意修改客户端时间，就能影响缓存命中的结果。所以，在http1.1中，提出了一个新的response header，就是Cache-Control。</p></div> <p><strong>Cache-Control</strong>：服务器返回的相对时间</p> <p>http1.1新增的一个请求头。浏览器第一次请求资源之后，在接下来的相对时间之内，都可以利用本地缓存。超出这个时间之后，则不能命中缓存。重新请求时，Cache-Control会被更新。</p> <h2 id="协商缓存"><a href="#协商缓存" class="header-anchor">#</a> 协商缓存</h2> <p>浏览器发现本地有资源的副本，但是不太确定要不要使用，于是去问问服务器。</p> <p>当强缓存没有命中的时候，就会发一个请求到服务器，验证协商缓存是否命中。</p> <p>协商缓存是利用的是两对Header：</p> <ul><li>Last-Modified和If-Modified-Since</li></ul> <p>过程为以下3步</p> <ol><li>浏览器第一次请求一个资源，服务器在返回这个资源的同时，会在 <strong>response header</strong> 加上Last-Modified，表示这该资源在服务器上的最后修改时间。</li> <li>浏览器再次请求这个资源时，会在 <strong>request header</strong> 加上If-Modified-Since，这个值就是上一次返回的Last-Modified的值。</li> <li>服务器收到第二次请求时，会比对浏览器传过来的If-Modified-Since和资源在服务器上的最后修改时间Last-Modified，判断资源是否有变化。如果没有变化则返回304 Not Modified，但不返回资源内容（此时，服务器不会返回 Last-Modified 这个 response header）；如果有变化，就正常返回资源内容（继续重复整个流程）。</li></ol> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>缺点：
没有办法解决在服务器资源改变，但是修改时间没有改变的情况。</p></div> <ul><li>ETag和If-None-Match</li></ul> <p>解决了上述header的缺点。</p> <p>整体过程都是一样的，不同的是，其值不再是服务器端最后的修改时间，而是一个资源的唯一标识，只要资源有改变这个值就会改变，也就解决了上述的问题。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/student/aboutBrowser/2.html" class="prev">
        同源策略和跨域
      </a></span> <span class="next"><a href="/student/aboutBrowser/4.html">
        http请求协议相关
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.78926a52.js" defer></script><script src="/assets/js/2.987596e6.js" defer></script><script src="/assets/js/5.e53f933c.js" defer></script>
  </body>
</html>
