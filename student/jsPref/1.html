<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>js设计模式 | cc的学习笔记</title>
    <meta name="generator" content="VuePress 1.4.1">
    
    <meta name="description" content="我的博客">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="preload" href="/myblog/assets/css/0.styles.3e211e95.css" as="style"><link rel="preload" href="/myblog/assets/js/app.41615b56.js" as="script"><link rel="preload" href="/myblog/assets/js/2.814e5817.js" as="script"><link rel="preload" href="/myblog/assets/js/3.e7373026.js" as="script"><link rel="prefetch" href="/myblog/assets/js/10.ca316200.js"><link rel="prefetch" href="/myblog/assets/js/11.d8631f6b.js"><link rel="prefetch" href="/myblog/assets/js/12.a488b497.js"><link rel="prefetch" href="/myblog/assets/js/13.3cc6a402.js"><link rel="prefetch" href="/myblog/assets/js/14.c9a0d417.js"><link rel="prefetch" href="/myblog/assets/js/15.475a2b37.js"><link rel="prefetch" href="/myblog/assets/js/16.8a9137fb.js"><link rel="prefetch" href="/myblog/assets/js/17.9a7498ec.js"><link rel="prefetch" href="/myblog/assets/js/18.b5be574f.js"><link rel="prefetch" href="/myblog/assets/js/19.597126ba.js"><link rel="prefetch" href="/myblog/assets/js/20.839a0cd8.js"><link rel="prefetch" href="/myblog/assets/js/21.89da595b.js"><link rel="prefetch" href="/myblog/assets/js/22.90439cc7.js"><link rel="prefetch" href="/myblog/assets/js/23.ae6ca502.js"><link rel="prefetch" href="/myblog/assets/js/24.aaa25a26.js"><link rel="prefetch" href="/myblog/assets/js/25.18fef18d.js"><link rel="prefetch" href="/myblog/assets/js/26.d7948f7a.js"><link rel="prefetch" href="/myblog/assets/js/4.3743e7be.js"><link rel="prefetch" href="/myblog/assets/js/5.f5e1ad52.js"><link rel="prefetch" href="/myblog/assets/js/6.41cb4bea.js"><link rel="prefetch" href="/myblog/assets/js/7.dd730ae1.js"><link rel="prefetch" href="/myblog/assets/js/8.21240742.js"><link rel="prefetch" href="/myblog/assets/js/9.43ca0555.js">
    <link rel="stylesheet" href="/myblog/assets/css/0.styles.3e211e95.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/myblog/" class="home-link router-link-active"><!----> <span class="site-name">cc的学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myblog/student/" class="nav-link router-link-active">
  笔记
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/myblog/student/" class="nav-link router-link-active">
  笔记
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>js进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/student/jsProgress/1.html" class="sidebar-link">执行上下文相关</a></li><li><a href="/myblog/student/jsProgress/2.html" class="sidebar-link">异步编程</a></li><li><a href="/myblog/student/jsProgress/3.html" class="sidebar-link">原型与原型链</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>js性能与规范</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/student/jsPref/1.html" class="active sidebar-link">js设计模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myblog/student/jsPref/1.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/myblog/student/jsPref/1.html#设计原则" class="sidebar-link">设计原则</a></li><li class="sidebar-sub-header"><a href="/myblog/student/jsPref/1.html#设计模式" class="sidebar-link">设计模式</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>浏览器相关知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/student/aboutBrowser/1.html" class="sidebar-link">从输入url到页面加载完成究竟发生了什么？</a></li><li><a href="/myblog/student/aboutBrowser/2.html" class="sidebar-link">同源策略和跨域</a></li><li><a href="/myblog/student/aboutBrowser/3.html" class="sidebar-link">浏览器缓存</a></li><li><a href="/myblog/student/aboutBrowser/4.html" class="sidebar-link">http请求协议相关</a></li><li><a href="/myblog/student/aboutBrowser/5.html" class="sidebar-link">浏览器渲染原理</a></li><li><a href="/myblog/student/aboutBrowser/sumUp.html" class="sidebar-link">页面性能优化相关</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>webpack</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myblog/student/webpack/base.html" class="sidebar-link">webpack基本概念</a></li><li><a href="/myblog/student/webpack/1.html" class="sidebar-link">webpack基本配置</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="js设计模式"><a href="#js设计模式" class="header-anchor">#</a> js设计模式</h1> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>我们写项目，说白了，其实就是编写各个模块，与模块之间的沟通，设计模式的存在，就是为了更好的设计模块，设计模块之间的沟通，让代码更加优雅，质量更高。</p> <p>设计模式一定要记得他们的异，而不是形</p> <h2 id="设计原则"><a href="#设计原则" class="header-anchor">#</a> 设计原则</h2> <p>接下来介绍一些设计模式的基本原则</p> <ol><li>依赖倒置</li></ol> <p>核心思想就是，我们的上层模块，不要依赖于具体的低层模块。而应该依赖于抽象。举一个例子，我们去吃饭，往往依赖的一般是餐厅这个抽象的概念，而不是具体的食物。和依赖注入一样是控制反转的一种方式，但是具体区别就是，依赖注入关注如果获取依赖并注入，而依赖倒置关注如何将上层与低层进行解耦。</p> <ol start="2"><li>接口隔离原则</li></ol> <p>用直白的话来说，接口应该细化，功能应该单一，和单一职责的区别就是，单一职责关注模块本身，接口隔离关注的是接口。其实可以理解为将具有单一职责的程序转化到一个具有公共接口的对象。</p> <ol start="3"><li>迪米特法则</li></ol> <p>也叫最少知识原则，它的意义是，两个对象沟通的时候，最好让两个对象之间知道的越少越好，可以理解为低耦合，就像是设计模式的中介者模式。比如你招房产中介，其实你并不是特别了解房东不是么，这就是迪米特法则的一个很好的体现。</p> <ol start="4"><li>里氏替换原则</li></ol> <p>主要关注继承，它的意义是，我们任何父类使用的地方，都可以使用子类去替换。直白点说，子类去继承父类的时候，要保证完全继承父类的属性和方法。</p> <ol start="5"><li>单一职责</li></ol> <p>我们的一个模块应该只做一件事情，这边对于职责的划分可以参考<a href="https://www.cnblogs.com/TomXu/archive/2012/01/06/2305513.html" target="_blank" rel="noopener noreferrer">这个链接<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，通俗点说，模块的工作越单一越好，越内聚越好。</p> <ol start="6"><li>开闭原则</li></ol> <p>我们的程序要对扩展开放，对修改关闭，通俗点说，我们封装一个东西，要让别人可以对其进行扩展，而不是在进行扩展的时候需要去修改我们的源码。比如vue的插件等等，都可以看成一个开闭原则的体现。</p> <h2 id="设计模式"><a href="#设计模式" class="header-anchor">#</a> 设计模式</h2> <p>设计模式，是设计原则的一个具体的体现！</p> <h3 id="设计模式的分类"><a href="#设计模式的分类" class="header-anchor">#</a> 设计模式的分类</h3> <p>设计模式主要分为以下几类：</p> <ul><li>创建型</li></ul> <p>帮助我们更优雅的创建对象</p> <ul><li>结构型</li></ul> <p>帮助我们优雅的设计结构</p> <ul><li>行为型</li></ul> <p>模块之间行为的模式总结，帮助我们组织模块行为（沟通）</p> <ul><li>技巧型</li></ul> <p>一些帮助我们优化代码的技巧</p> <p>接下来我们具体说一下各个类型包含哪些设计模式：</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>这边没有特别详细的进行设计模式的讲解，主要是大致了解各个类型有哪些设计模式以及他们的一个思想。</p> <p>设计模式具体的使用和代码讲解还未全部更新。</p> <p>设计模式是比较抽象的概念，还是要多写代码才会有更深的理解。</p></div> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>很多关于设计模式的文章，有的解释会不太一样，可能名字不同之类的，不过概念是一样的</p></div> <p><strong>创建型</strong></p> <ul><li>工厂模式</li></ul> <p>你告诉我你要什么样的对象，我就给你什么对象。</p> <ul><li>建造者模式</li></ul> <p>精细化组合对象（模块）</p> <ul><li>单例模式</li></ul> <p>全局只有我一个</p> <ul><li>原型模式</li></ul> <p>js的灵魂，其实就是原型链</p> <p><strong>结构型</strong></p> <ul><li>外观模式</li></ul> <p>比如你取餐厅的时候，会有许多的套餐，其实那就是外观模式，将多种食物进行打包，变成一个套餐给你。在代码中的体现就是，封装一个函数，里面调用了多个方法类等等。</p> <ul><li>享元模式</li></ul> <p>共享元信息来减少代码，优化结构</p> <ul><li>适配器模式</li></ul> <p>用适配代替更改</p> <ul><li>桥接模式</li></ul> <p>独立出来，然后再对接过去，通过桥接代替耦合，减少模块之间的耦合</p> <ul><li>装饰者模式</li></ul> <p>更优雅的扩展需求</p> <ul><li>模板方法</li></ul> <p>比如简历模板之类的</p> <p><strong>行为型</strong></p> <ul><li><p>观察者模式（也叫发布订阅模式）</p></li> <li><p>职责链模式</p></li></ul> <p>像生产线一样组织模块</p> <ul><li>状态模式</li></ul> <p>用状态代替判断</p> <ul><li>命令模式</li></ul> <p>用命令去解耦</p> <ul><li>策略模式</li></ul> <p>算法工厂，和工厂模式有点像，你告诉我要什么算法，我就给你什么算法</p> <ul><li>迭代器模式</li></ul> <p>告别for循环</p> <p><strong>技巧型</strong></p> <ul><li>链模式</li></ul> <p>链式调用</p> <ul><li>惰性模式</li></ul> <p>我要搞机器学习</p> <ul><li>委托模式</li></ul> <p>让别人代替你收快递</p> <ul><li>等待着模式</li></ul> <p>等你们都回来再吃饭</p> <ul><li>数据访问模式</li></ul> <p>一个方便的数据管理器</p> <p>接下来是设计模式详细讲解：（一些像原型这边就不过多讲解了）</p> <h3 id="工厂模式"><a href="#工厂模式" class="header-anchor">#</a> 工厂模式</h3> <p>可以理解为用调用方法来代替new关键字，在创建大量对象的时候，不用知道具体new哪个，只需要告诉工厂你要哪个</p> <p>应用场景：当某一个对象经常要创建的时候</p> <p><img src="/myblog/assets/img/item1.f9f302db.png" alt=""></p> <h3 id="建造者模式"><a href="#建造者模式" class="header-anchor">#</a> 建造者模式</h3> <p>和工程模式不同，工厂模式的应用场景主要是在大量创建对象的时候，而建造者模式则是在创建单个，庞大的组合对象的时候</p> <p><img src="/myblog/assets/img/item2.f2c98af4.png" alt=""></p> <h3 id="单例模式"><a href="#单例模式" class="header-anchor">#</a> 单例模式</h3> <p>为了避免重复创建，避免多个对象存在相互干扰。写jq的时候不都有判断是new新建还是直接return么，这个就是单例模式 ，做法不是很固定，主要是思想</p> <p><img src="/myblog/assets/img/item3.38b5065f.png" alt=""></p> <hr> <p>这边我将享元模式和模板方法、桥接模式放到一起讲，它们的主要目的都是提高代码的可复用性</p> <h3 id="享元模式"><a href="#享元模式" class="header-anchor">#</a> 享元模式</h3> <p>享元的核心思想是共享一个元信息，这个元信息可能是一个类，也可以是一个属性等等，将公有和私有进行分离，公有的进行共享		(参考jq里面的extend，那个i的应用，那个i，其实就是享元里面的元信息。)</p> <p><img src="/myblog/assets/img/item4.a7143306.png" alt=""></p> <h3 id="模板方法"><a href="#模板方法" class="header-anchor">#</a> 模板方法</h3> <p>模板方法提取公共实现，具体实现延迟到使用的时候，它一般是一个方法，或者类。核心思想是定义一个基础行为，后续可以进行扩展等</p> <p><img src="/myblog/assets/img/item6.12f7cf47.png" alt=""></p> <h3 id="桥接模式"><a href="#桥接模式" class="header-anchor">#</a> 桥接模式</h3> <p>桥接模式，核心思想是将 <strong>抽象和实现</strong> 分离，然后进行 <strong>关联</strong> ，享元只是共享了信息，但是并没有进行关联操作</p> <p><img src="/myblog/assets/img/item5.06b6a1d5.png" alt=""></p> <hr> <p>这边扩展一下js的组合和继承</p> <p><img src="/myblog/assets/img/item7.5ef78b54.png" alt=""></p> <p>js的组合与继承，组合并不能自动的获取父类的方法等，需要手动的进行组合，这是坏处，继承的问题就是，子类更改父类会影响所有子类。所以说尽量使用组合而不使用继承。</p> <div class="language- extra-class"><pre><code>在设计模式中，有一种继承的替代方案，它能给不同对象各自添加新行为,
不会像继承一样在子类中增加行为会影响原有类所有的实例。
具体参考https://www.cnblogs.com/TomXu/archive/2012/02/24/2353434.html
</code></pre></div><hr> <hr> <p>接下来介绍提高代码质量以及优化代码操作的一些模式</p> <p>扩展一下什么是代码质量</p> <ul><li><p>代码整洁   包括命名、缩进、没有多余的累赘代码等方面</p></li> <li><p>结构规整，没有漫长的结构  漫长的结构是指，赋值语句、if、else等等</p></li> <li><p>良好的阅读理解    就是语义化的相关</p></li></ul> <p>提高代码质量的设计模式主要包括以下几种：</p> <p><img src="/myblog/assets/img/item8.0e4de442.png" alt=""></p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>这边要注意，策略模式和状态模式还是有一定区别的，上图主要说的是这两个都可以优化if-else分支，具体的下面会讲解</p></div> <h3 id="策略模式"><a href="#策略模式" class="header-anchor">#</a> 策略模式</h3> <p><img src="/myblog/assets/img/item10.678d6d44.png" alt=""></p> <h3 id="状态模式"><a href="#状态模式" class="header-anchor">#</a> 状态模式</h3> <p><img src="/myblog/assets/img/item11.1895030c.png" alt=""></p> <p>状态模式的本质是不同状态的切换可由子类实现的本质，和策略模式不太一样，策略模式主要是由用户选择哪个策略，可以看成一个算法工厂。想要更详细的了解可以百度，或者等我哪天想起来再。。咳咳</p> <h3 id="外观模式"><a href="#外观模式" class="header-anchor">#</a> 外观模式</h3> <p><img src="/myblog/assets/img/item12.b181592d.png" alt=""></p> <hr> <hr> <p>接下来介绍优化代码操作的一些模式，这个模式比较简单，不具体介绍，看下图</p> <h3 id="迭代器模式与备忘录模式"><a href="#迭代器模式与备忘录模式" class="header-anchor">#</a> 迭代器模式与备忘录模式</h3> <p>备忘录模式其实就是一个缓存模式，迭代器，相信你也整天用，就不用细说了</p> <p><img src="/myblog/assets/img/item9.1ffc4e18.png" alt=""></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/myblog/student/jsProgress/3.html" class="prev">
        原型与原型链
      </a></span> <span class="next"><a href="/myblog/student/aboutBrowser/1.html">
        从输入url到页面加载完成究竟发生了什么？
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/myblog/assets/js/app.41615b56.js" defer></script><script src="/myblog/assets/js/2.814e5817.js" defer></script><script src="/myblog/assets/js/3.e7373026.js" defer></script>
  </body>
</html>
